import{f as u,h as w}from"./CU-Yr1PM.js";function E(o){const{effect:e,swiper:t,on:i,setTranslate:d,setTransition:c,overwriteParams:a,perspective:n,recreateShadows:s,getEffectParams:f}=o;i("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),n&&n()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const r=a?a():{};Object.assign(t.params,r),Object.assign(t.originalParams,r)}),i("setTranslate _virtualUpdated",()=>{t.params.effect===e&&d()}),i("setTransition",(r,l)=>{t.params.effect===e&&c(l)}),i("transitionEnd",()=>{if(t.params.effect===e&&s){if(!f||!f().slideShadows)return;t.slides.forEach(r=>{r.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(l=>l.remove())}),s()}});let p;i("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(p=!0),requestAnimationFrame(()=>{p&&t.slides&&t.slides.length&&(d(),p=!1)}))})}function g(o,e){const t=u(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function T(o){let{swiper:e,duration:t,transformElements:i}=o;const{activeIndex:d}=e;if(e.params.virtualTranslate&&t!==0){let c=!1,a;a=i,a.forEach(n=>{w(n,()=>{if(c||!e||e.destroyed)return;c=!0,e.animating=!1;const s=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(s)})})}}function b(o){let{swiper:e,extendParams:t,on:i}=o;t({fadeEffect:{crossFade:!1}}),E({effect:"fade",swiper:e,on:i,setTranslate:()=>{const{slides:a}=e,n=e.params.fadeEffect;for(let s=0;s<a.length;s+=1){const f=e.slides[s];let r=-f.swiperSlideOffset;e.params.virtualTranslate||(r-=e.translate);let l=0;e.isHorizontal()||(l=r,r=0);const h=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(f.progress),0):1+Math.min(Math.max(f.progress,-1),0),m=g(n,f);m.style.opacity=h,m.style.transform=`translate3d(${r}px, ${l}px, 0px)`}},setTransition:a=>{const n=e.slides.map(s=>u(s));n.forEach(s=>{s.style.transitionDuration=`${a}ms`}),T({swiper:e,duration:a,transformElements:n})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}export{b as E};
